Protocol for Tail stat:
1. [Paired-End Data only, Optional]merge the data Use Pear
   (http://sco.h-its.org/exelixis/web/software/pear/doc.html)

2. trim the adaptor 

3. then align with BWA to maxcircle with edited transcripts+100nt extension reference.

4. BAM to mapped SAM

5. extract Tail information (first round) Using Custom Script
   SAM2SE_Tail_length_obj_edited8_v1.3.py
   
   5.1 Command line example: 
   python /restricted/projectnb/montilab-p/personal/liye/shared/python/scripts/Rusla
n/3prime/SAM2SE_Tail_length_obj_edited8_v1.3.py -c 10 -r /restricted/projectnb/mo
ntilab-p/personal/liye/shared/database/refgenome/Tb/maxcircle-edited10-ex100/max_
circle_withEdited10-ex100.dict -P /restricted/projectnb/montilab-p/personal/liye/
shared/database/refgenome/Tb/primers/3RACE_primers.fa
   
   5.2 Script input parameter description:
   (-c specifies maximum number of CIGAR string item, for example the CIGAR string item
   count for M2I10M50 is 3 (M,I,M))
   (-r the dict file generated by picard CreateSequenceDictionary function from reference
   fasta file)
   (-P input the primer file so that all the sequences has to contain the primer sequences
   used in the RACE example)
   
   5.3 Script Input description:
   the BWA aligned SAM file
   
   5.4 Script output description:
   XX_Tail.txt : tail type table output
   XX_Notail_Stat_BED6.bed : The bed file output summerized the non-Tail read data
   XX_[Tail type].sam : the SAM files grouped by Tail type
   XX_stat.txt : statistic reports for the Tail data
   
   
6. To make sure the alignment in correct, we rerun the tail type classified as unknown or
   AU tail. To do so, the first step is to generate fasta without U file for these 
   two types using custom script: Tail2rerunFasta_obj_v0.0.py
   
   6.1 Command line example: 
   python Tail2rerunFasta_obj_v0.0.py -i FS2_S2SE_Tail.txt
   
   6.2 Script output:
   fasta file (without U) 

7. Run Blat to perform realignment:
   7.1 Command line example: 
   Blat /restricted/projectnb/montilab-p/personal/liye/shared/database/refgenome/Tb/remove-U-template/Edited10-ex100_noU.fasta
   FS2_S2SE_rerun.fa FS2_S2SE_rerun.psl
   
8. Adjust the tail output based on the Blat output using custom script 
   adjustTail_basedonBlat_obj_v0.1.py
   8.1 Command line example: 
   python2.7.1 /restricted/projectnb/montilab-p/personal/liye/shared/python/script
   s/Ruslan/3prime/adjustTail_basedonBlat_obj_v0.1.py -i FS2_S2SE_Tail.txt -p FS2_S2
   SE_rerun.psl -b FS2_S2SE_Notail_Stat_BED6.bed -r Edited10-ex100_noU.fasta
   
   8.2 Input Parameters Description:
   -i : Tail output from Step 5
   -p : noU Blat realignment output from step 7
   -b : No Tail BED from Step 6
   -r : the noU reference used in noU Blat realignment
   
   8.3 Output Scription:
   1. updated No tail Bed output
   2. updated Tail output 
   3. updated statistics
   
9. Generate the diff statistics between the canonical and cryptic using custom script:
   SE_RNASeq_diff_TailStat_obj_v2.0.py
   
   9.1 Command line example:
   python2.7.1 /restricted/projectnb/montilab-p/personal/liye/shared/python/script
   s/Ruslan/3prime/SE_RNASeq_diff_TailStat_obj_v2.0.py -i FS2_S2SE_updated.txt -b FS
   2_S2SE_updated.bed -r /restricted/projectnb/montilab-p/personal/liye/shared/datab
   ase/refgenome/Tb/maxcircle/cyptic_canonical_20170207.txt -R /restricted/projectnb
   /montilab-p/personal/liye/shared/database/refgenome/Tb/maxcircle-edited10-ex100/m
   ax_circle_withEdited10-ex100.dict
   
   9.2 Script Input Description:
   -i : updated Tail data from Step 8
   -b : updated Notail bed data from step 8
   -r : cryptic/canonical definition from Francois
   -R : reference dict file
   
   9.3 Script output Description:
   XX_per_gene_stat.txt : per gene stat
   XX_tail_length_dist.txt : tail length statistics
   XX_tail_length_dist_per_gene.txt : tail length statistics per gene
   
    
   
